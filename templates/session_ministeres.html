{% extends "base.html" %}

{% block title %}Ministères de la session {{ session.id }}{% endblock %}

{% block content %}

  <h1>Ministères de la session {{ session.id }}</h1>
  <p>Du {{ session.date_debut }} au {{ session.date_fin }}</p>

  <h2>Ministères dans cette session</h2>
  <ul class="list-group mb-3">
    {% for sm in session_ministeres %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ sm.ministere.nom }}</strong>
        </div>
        <div>
          <a href="{{ url_for('session_ministere_roles', session_id=session.id, session_ministere_id=sm.id) }}" class="btn btn-sm btn-outline-secondary">Rôles</a>
          <a href="{{ url_for('session_ministere_membres', session_id=session.id, session_ministere_id=sm.id) }}" class="btn btn-sm btn-outline-primary">Membres</a>
        </div>
      </li>
    {% else %}
      <li class="list-group-item">Aucun ministère défini pour cette session.</li>
    {% endfor %}
  </ul>

  <h2>Ajouter un ministère à cette session</h2>
  <form method="post" class="row g-2 mb-3">
    <div class="col-md-6">
      <select name="ministere_id" class="form-select" required>
        <option value="">-- Choisir un ministère --</option>
        {% for m in tous_ministeres %}
          <option value="{{ m.id }}">{{ m.nom }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3">
      <button type="submit" class="btn btn-primary w-100">Ajouter</button>
    </div>
  </form>

  <a href="{{ url_for('sessions_liste') }}" class="btn btn-link">Retour aux sessions</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}
